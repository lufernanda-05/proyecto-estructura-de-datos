import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class ElLazoRoto extends JFrame implements ActionListener {

    static class BackgroundPanel extends JPanel {
        private Color color1;
        private Color color2;
        private String escenaNombre;

        public BackgroundPanel(Color c1, Color c2, String nombre) {
            this.color1 = c1;
            this.color2 = c2;
            this.escenaNombre = nombre;
            setLayout(null);
        }

        public void setBackgroundColors(Color c1, Color c2, String nombre) {
            this.color1 = c1;
            this.color2 = c2;
            this.escenaNombre = nombre;
            repaint();
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g);
            Graphics2D g2d = (Graphics2D) g;
            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);
            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
            
            int w = getWidth();
            int h = getHeight();
            
            GradientPaint gp = new GradientPaint(0, 0, color1, w, h, color2);
            g2d.setPaint(gp);
            g2d.fillRect(0, 0, w, h);
            
            // CÃ­rculos decorativos de fondo
            g2d.setColor(new Color(255, 255, 255, 15));
            for (int i = 0; i < 8; i++) {
                int size = 100 + i * 50;
                int x = (w * (i % 3)) / 3 - size / 2;
                int y = (h * (i / 3)) / 3 - size / 2;
                g2d.fillOval(x, y, size, size);
            }
            
            // LÃ­neas decorativas
            g2d.setColor(new Color(255, 255, 255, 30));
            g2d.setStroke(new BasicStroke(2));
            for (int i = 0; i < 5; i++) {
                int y = h * i / 5;
                g2d.drawLine(0, y, w, y + 50);
            }
            
            // Nombre de escena con mejor diseÃ±o
            g2d.setColor(new Color(0, 0, 0, 150));
            g2d.fillRoundRect(110, 8, 300, 35, 10, 10);
            g2d.setColor(new Color(255, 255, 255, 230));
            g2d.setFont(new Font("Arial", Font.BOLD, 16));
            g2d.drawString("ðŸ“– " + escenaNombre, 120, 30);
        }
    }

    // Panel para representar un personaje con color y nombre
    static class CharacterPanel extends JPanel {
        private Color characterColor;
        private String characterName;
        private String emotion;

        public CharacterPanel() {
            setOpaque(false);
        }

        public void setCharacter(String name, String emotion, Color color) {
            this.characterName = name;
            this.emotion = emotion;
            this.characterColor = color;
            repaint();
        }

        public void clearCharacter() {
            this.characterName = null;
            repaint();
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g);
            if (characterName == null) return;
            
            Graphics2D g2d = (Graphics2D) g;
            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
            
            int w = getWidth();
            int h = getHeight();
            
            // Sombra suave del personaje
            g2d.setColor(new Color(0, 0, 0, 60));
            g2d.fillOval((int)(w * 0.15), (int)(h * 0.88), (int)(w * 0.7), (int)(h * 0.08));
            
            // === CUERPO ===
            int bodyWidth = (int)(w * 0.6);
            int bodyHeight = (int)(h * 0.45);
            int bodyX = (w - bodyWidth) / 2;
            int bodyY = (int)(h * 0.38);
            
            // Gradiente para el cuerpo
            GradientPaint bodyGradient = new GradientPaint(
                bodyX, bodyY, characterColor,
                bodyX + bodyWidth, bodyY + bodyHeight, characterColor.darker()
            );
            g2d.setPaint(bodyGradient);
            g2d.fillRoundRect(bodyX, bodyY, bodyWidth, bodyHeight, 25, 25);
            
            // Borde del cuerpo
            g2d.setColor(characterColor.darker().darker());
            g2d.setStroke(new BasicStroke(2));
            g2d.drawRoundRect(bodyX, bodyY, bodyWidth, bodyHeight, 25, 25);
            
            // Detalle central del cuerpo
            g2d.setColor(characterColor.darker());
            g2d.fillRoundRect(bodyX + bodyWidth/3, bodyY + 10, bodyWidth/3, bodyHeight - 20, 15, 15);
            
            // === BRAZOS ===
            g2d.setColor(characterColor);
            int armWidth = (int)(w * 0.12);
            int armHeight = (int)(bodyHeight * 0.7);
            // Brazo izquierdo
            g2d.fillRoundRect(bodyX - armWidth + 5, bodyY + 15, armWidth, armHeight, 15, 15);
            // Brazo derecho
            g2d.fillRoundRect(bodyX + bodyWidth - 5, bodyY + 15, armWidth, armHeight, 15, 15);
            
            // === CUELLO ===
            int neckWidth = (int)(w * 0.25);
            int neckHeight = (int)(h * 0.08);
            int neckX = (w - neckWidth) / 2;
            int neckY = bodyY - neckHeight;
            g2d.setColor(characterColor.brighter());
            g2d.fillRect(neckX, neckY, neckWidth, neckHeight);
            
            // === CABEZA ===
            int headSize = (int)(w * 0.58);
            int headX = (w - headSize) / 2;
            int headY = (int)(h * 0.08);
            
            // Gradiente para la cabeza
            GradientPaint headGradient = new GradientPaint(
                headX, headY, characterColor.brighter().brighter(),
                headX + headSize, headY + headSize, characterColor
            );
            g2d.setPaint(headGradient);
            g2d.fillOval(headX, headY, headSize, headSize);
            
            // Borde de la cabeza
            g2d.setColor(characterColor.darker().darker());
            g2d.setStroke(new BasicStroke(3));
            g2d.drawOval(headX, headY, headSize, headSize);
            
            g2d.setColor(characterColor.darker().darker());
            
            // Parte superior del cabello (flequillo/copete)
            g2d.fillArc(headX - 10, headY - 15, headSize + 20, headSize/2, 0, 180);
            
            // Cabello largo a los lados (ondulado)
            // Lado izquierdo
            for (int i = 0; i < 4; i++) {
                int waveX = headX - 15;
                int waveY = headY + headSize/3 + (i * headSize/8);
                int waveWidth = headSize/4;
                int waveHeight = headSize/6;
                g2d.fillOval(waveX, waveY, waveWidth, waveHeight);
            }
            
            // Lado derecho
            for (int i = 0; i < 4; i++) {
                int waveX = headX + headSize - headSize/4 + 15;
                int waveY = headY + headSize/3 + (i * headSize/8);
                int waveWidth = headSize/4;
                int waveHeight = headSize/6;
                g2d.fillOval(waveX, waveY, waveWidth, waveHeight);
            }
            
            // Volumen del cabello en la parte trasera
            g2d.fillOval(headX - 5, headY + 5, headSize + 10, headSize - 10);
            
            // === CARA ===
            g2d.setColor(new Color(50, 50, 50));
            
            // Ojos
            int eyeY = headY + headSize/3;
            int eyeSize = headSize/12;
            int eyeSpacing = headSize/3;
            // Ojo izquierdo
            g2d.fillOval(headX + eyeSpacing - eyeSize/2, eyeY, eyeSize, eyeSize);
            g2d.setColor(Color.WHITE);
            g2d.fillOval(headX + eyeSpacing - eyeSize/2 + 2, eyeY + 2, eyeSize/3, eyeSize/3);
            
            g2d.setColor(new Color(50, 50, 50));
            // Ojo derecho
            g2d.fillOval(headX + 2*eyeSpacing - eyeSize/2, eyeY, eyeSize, eyeSize);
            g2d.setColor(Color.WHITE);
            g2d.fillOval(headX + 2*eyeSpacing - eyeSize/2 + 2, eyeY + 2, eyeSize/3, eyeSize/3);
            
            // Cejas
            g2d.setColor(characterColor.darker().darker());
            g2d.setStroke(new BasicStroke(2));
            g2d.drawArc(headX + eyeSpacing - eyeSize, eyeY - 8, eyeSize*2, eyeSize, 20, 140);
            g2d.drawArc(headX + 2*eyeSpacing - eyeSize, eyeY - 8, eyeSize*2, eyeSize, 20, 140);
            
            // Nariz
            g2d.setColor(characterColor.darker());
            int noseX = headX + headSize/2;
            int noseY = headY + headSize/2;
            g2d.fillOval(noseX - 3, noseY, 6, 8);
            
            // Boca segÃºn emociÃ³n
            g2d.setColor(new Color(80, 50, 50));
            g2d.setStroke(new BasicStroke(3));
            int mouthY = headY + 2*headSize/3;
            int mouthWidth = headSize/3;
            int mouthX = headX + headSize/2 - mouthWidth/2;
            
            if (emotion.contains("feliz") || emotion.contains("sonriente")) {
                g2d.drawArc(mouthX, mouthY - 10, mouthWidth, 20, 0, -180);
            } else if (emotion.contains("triste") || emotion.contains("afligida")) {
                g2d.drawArc(mouthX, mouthY, mouthWidth, 20, 0, 180);
            } else {
                g2d.drawLine(mouthX, mouthY, mouthX + mouthWidth, mouthY);
            }
            
            // === ETIQUETA CON NOMBRE ===
            g2d.setColor(new Color(0, 0, 0, 180));
            g2d.fillRoundRect(8, h - 58, w - 16, 52, 12, 12);
            
            g2d.setColor(characterColor.brighter());
            g2d.setStroke(new BasicStroke(2));
            g2d.drawRoundRect(8, h - 58, w - 16, 52, 12, 12);
            
            g2d.setColor(Color.WHITE);
            g2d.setFont(new Font("Arial", Font.BOLD, 15));
            FontMetrics fm = g2d.getFontMetrics();
            int nameWidth = fm.stringWidth(characterName);
            g2d.drawString(characterName, (w - nameWidth) / 2, h - 33);
            
            g2d.setFont(new Font("Arial", Font.ITALIC, 12));
            g2d.setColor(new Color(220, 220, 220));
            fm = g2d.getFontMetrics();
            int emotionWidth = fm.stringWidth("(" + emotion + ")");
            g2d.drawString("(" + emotion + ")", (w - emotionWidth) / 2, h - 15);
        }
    }

    // Componentes principales
    private BackgroundPanel content;
    private JTextArea textoHistoria;
    private JButton opcion1, opcion2, reiniciar;
    private CharacterPanel portraitLeft, portraitRight;
    private int escena = 0;

    // Variables para efecto de mÃ¡quina de escribir
    private Timer typingTimer;
    private String fullText = "";
    private int typingIndex = 0;
    private boolean isTyping = false;
    private final int typingDelayMs = 20;

    // Colores para personajes
    private final Color LUCIA_COLOR = new Color(100, 150, 200);
    private final Color MARIANA_COLOR = new Color(200, 100, 150);

    public ElLazoRoto() {
        super("ðŸŽ¬ El Lazo Roto - Historia Interactiva");

        setDefaultCloseOperation(EXIT_ON_CLOSE);
        setSize(1000, 650);
        setLocationRelativeTo(null);

        // Panel de fondo inicial
        content = new BackgroundPanel(
            new Color(20, 30, 50),
            new Color(40, 50, 80),
            "Inicio"
        );
        setContentPane(content);

        // Ãrea de texto para la historia
        textoHistoria = new JTextArea();
        textoHistoria.setEditable(false);
        textoHistoria.setLineWrap(true);
        textoHistoria.setWrapStyleWord(true);
        textoHistoria.setFont(new Font("Serif", Font.PLAIN, 18));
        textoHistoria.setBackground(new Color(20, 25, 35, 240));
        textoHistoria.setForeground(Color.WHITE);
        textoHistoria.setOpaque(true);
        textoHistoria.setBorder(BorderFactory.createCompoundBorder(
            BorderFactory.createLineBorder(new Color(150, 150, 180, 180), 3),
            BorderFactory.createEmptyBorder(18, 18, 18, 18)
        ));
        content.add(textoHistoria);

        // Click para terminar animaciÃ³n de escritura
        textoHistoria.addMouseListener(new MouseAdapter() {
            @Override
            public void mouseClicked(MouseEvent e) {
                if (isTyping)
                    finishTypingImmediately();
            }
        });

        // Botones
        opcion1 = new JButton("OpciÃ³n 1");
        opcion2 = new JButton("OpciÃ³n 2");
        reiniciar = new JButton("ðŸ”„ Reiniciar");

        opcion1.setBackground(new Color(70, 130, 180));
        opcion1.setForeground(Color.WHITE);
        opcion1.setFont(new Font("Arial", Font.BOLD, 14));
        opcion1.setBorderPainted(false);
        opcion1.setFocusPainted(false);
        
        opcion2.setBackground(new Color(34, 139, 34));
        opcion2.setForeground(Color.WHITE);
        opcion2.setFont(new Font("Arial", Font.BOLD, 14));
        opcion2.setBorderPainted(false);
        opcion2.setFocusPainted(false);
        
        reiniciar.setBackground(new Color(90, 90, 90));
        reiniciar.setForeground(Color.WHITE);
        reiniciar.setFont(new Font("Arial", Font.BOLD, 12));
        reiniciar.setBorderPainted(false);
        reiniciar.setFocusPainted(false);

        // Efectos hover en botones
        addHoverEffect(opcion1);
        addHoverEffect(opcion2);
        addHoverEffect(reiniciar);

        opcion1.addActionListener(this);
        opcion2.addActionListener(this);
        reiniciar.addActionListener(evt -> reiniciar());

        content.add(opcion1);
        content.add(opcion2);
        content.add(reiniciar);

        // Paneles para personajes
        portraitLeft = new CharacterPanel();
        portraitRight = new CharacterPanel();
        content.add(portraitLeft);
        content.add(portraitRight);

        // Ajusta componentes al redimensionar
        addComponentListener(new ComponentAdapter() {
            @Override
            public void componentResized(ComponentEvent e) {
                layoutComponents();
            }
        });

        // Muestra ventana y comienza
        SwingUtilities.invokeLater(() -> {
            setVisible(true);
            layoutComponents();
            reiniciar();
        });
    }

    private void addHoverEffect(JButton button) {
        Color originalColor = button.getBackground();
        button.addMouseListener(new MouseAdapter() {
            @Override
            public void mouseEntered(MouseEvent e) {
                button.setBackground(originalColor.brighter());
            }
            @Override
            public void mouseExited(MouseEvent e) {
                button.setBackground(originalColor);
            }
        });
    }

    private void layoutComponents() {
        int w = getContentPane().getWidth();
        int h = getContentPane().getHeight();

        int portraitW = (int) (w * 0.18);
        int portraitH = (int) (h * 0.50);
        portraitLeft.setBounds(20, h - portraitH - 120, portraitW, portraitH);
        portraitRight.setBounds(w - portraitW - 20, h - portraitH - 120, portraitW, portraitH);

        int textW = (int) (w * 0.55);
        int textH = (int) (h * 0.20);
        textoHistoria.setBounds((w - textW) / 2, h - textH - 120, textW, textH);

        int btnW = 280, btnH = 45;
        opcion1.setBounds((w / 2) - btnW - 20, h - 70, btnW, btnH);
        opcion2.setBounds((w / 2) + 20, h - 70, btnW, btnH);
        reiniciar.setBounds(10, 10, 120, 30);
    }

    private void setBackground(Color c1, Color c2, String nombre) {
        content.setBackgroundColors(c1, c2, nombre);
    }

    private void setTextWithTypewriter(String text) {
        if (typingTimer != null && typingTimer.isRunning()) {
            typingTimer.stop();
        }
        
        fullText = text;
        typingIndex = 0;
        isTyping = true;
        textoHistoria.setText("");
        opcion1.setEnabled(false);
        opcion2.setEnabled(false);
        
        typingTimer = new Timer(typingDelayMs, e -> {
            if (typingIndex < fullText.length()) {
                textoHistoria.append(String.valueOf(fullText.charAt(typingIndex)));
                typingIndex++;
            } else {
                finishTypingImmediately();
            }
        });
        typingTimer.start();
    }

    private void finishTypingImmediately() {
        if (typingTimer != null && typingTimer.isRunning()) {
            typingTimer.stop();
        }
        textoHistoria.setText(fullText);
        isTyping = false;
        opcion1.setEnabled(true);
        opcion2.setEnabled(true);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        if (isTyping)
            return;
            
        if (escena == 0) {
            if (e.getSource() == opcion1)
                mostrarEscenaConfrontar();
            else if (e.getSource() == opcion2)
                mostrarEscenaInvestigar();
        } else if (escena == 1) {
            if (e.getSource() == opcion1)
                mostrarEscenaAyudaExterna();
            else
                mostrarEscenaProtegerSilencio();
        } else if (escena == 2) {
            if (e.getSource() == opcion1)
                mostrarEscenaEntregarPruebas();
            else
                mostrarEscenaCallar();
        } else if (escena == 3) {
            if (e.getSource() == opcion1)
                mostrarFinalRedencion();
            else
                mostrarFinalOscuro();
        } else if (escena == 4) {
            if (e.getSource() == opcion1)
                mostrarFinalFractura();
            else
                mostrarFinalOscuro();
        } else if (escena == 5 || escena == 6) {
            if (e.getSource() == opcion1)
                mostrarFinalFractura();
            else
                mostrarFinalOscuro();
        } else if (escena >= 7) {
            if (e.getSource() == opcion1)
                reiniciar();
            else
                System.exit(0);
        }
    }

    // ESCENAS

    public void mostrarEscenaConfrontar() {
        escena = 1;
        setBackground(new Color(80, 40, 40), new Color(120, 60, 60), "ConfrontaciÃ³n");
        portraitLeft.setCharacter("LucÃ­a", "seria", LUCIA_COLOR.darker());
        portraitRight.setCharacter("Mariana", "nerviosa", MARIANA_COLOR);
        setTextWithTypewriter(
            "Decido enfrentar a Mariana cara a cara. La miro a los ojos, que tiemblan.\n" +
            "'LucÃ­a, no entiendes', me dice con voz temblorosa.\n" +
            "Â¿Debo ayudarla a salir o protegerla del daÃ±o que ella misma se hace?"
        );
        opcion1.setText("Buscar ayuda externa");
        opcion2.setText("Protegerla en silencio");
        opcion1.setVisible(true);
        opcion2.setVisible(true);
    }

    public void mostrarEscenaInvestigar() {
        escena = 2;
        setBackground(new Color(30, 30, 60), new Color(50, 50, 90), "InvestigaciÃ³n");
        portraitLeft.setCharacter("LucÃ­a", "pensativa", LUCIA_COLOR);
        portraitRight.clearCharacter();
        setTextWithTypewriter(
            "Reviso mensajes, llamadas, pistas... Todo indica que Mariana estÃ¡ metida hasta el cuello.\n" +
            "Â¿DeberÃ­a entregar esta informaciÃ³n a la policÃ­a o callar para protegerla?"
        );
        opcion1.setText("Entregar pruebas a la policÃ­a");
        opcion2.setText("Callar y protegerla");
        opcion1.setVisible(true);
        opcion2.setVisible(true);
    }

    public void mostrarEscenaAyudaExterna() {
        escena = 3;
        setBackground(new Color(60, 80, 60), new Color(80, 120, 80), "BÃºsqueda de ayuda");
        portraitLeft.setCharacter("LucÃ­a", "esperanzada", LUCIA_COLOR);
        portraitRight.setCharacter("Mariana", "triste", MARIANA_COLOR.darker());
        setTextWithTypewriter(
            "Busco ayuda externa: psicÃ³logos, organizaciones de rehabilitaciÃ³n y apoyo familiar.\n" +
            "SÃ© que serÃ¡ un camino largo y doloroso, pero creo en la redenciÃ³n."
        );
        opcion1.setText("Seguir adelante");
        opcion2.setText("Dudar y renunciar");
        opcion1.setVisible(true);
        opcion2.setVisible(true);
    }

    public void mostrarEscenaProtegerSilencio() {
        escena = 4;
        setBackground(new Color(50, 50, 70), new Color(70, 70, 100), "Silencio protector");
        portraitLeft.setCharacter("LucÃ­a", "preocupada", LUCIA_COLOR.darker());
        portraitRight.setCharacter("Mariana", "neutral", MARIANA_COLOR);
        setTextWithTypewriter(
            "Decido protegerla en silencio, sin involucrar a nadie mÃ¡s.\n" +
            "Pero la carga es pesada y el miedo crece cada dÃ­a."
        );
        opcion1.setText("Seguir protegiÃ©ndola");
        opcion2.setText("Buscar ayuda externa");
        opcion1.setVisible(true);
        opcion2.setVisible(true);
    }

    public void mostrarEscenaEntregarPruebas() {
        escena = 5;
        setBackground(new Color(40, 40, 50), new Color(60, 60, 80), "DecisiÃ³n difÃ­cil");
        portraitLeft.setCharacter("LucÃ­a", "determinada", LUCIA_COLOR.darker().darker());
        portraitRight.clearCharacter();
        setTextWithTypewriter(
            "Decido entregar las pruebas a la policÃ­a.\n" +
            "SÃ© que esto podrÃ­a destruir a mi familia, pero creo que es lo correcto."
        );
        opcion1.setText("Aceptar las consecuencias");
        opcion2.setText("Dudar de la decisiÃ³n");
        opcion1.setVisible(true);
        opcion2.setVisible(true);
    }

    public void mostrarEscenaCallar() {
        escena = 6;
        setBackground(new Color(60, 50, 50), new Color(90, 70, 70), "Silencio culpable");
        portraitLeft.setCharacter("LucÃ­a", "afligida", LUCIA_COLOR.darker());
        portraitRight.setCharacter("Mariana", "neutral", MARIANA_COLOR);
        setTextWithTypewriter(
            "Decido callar y no entregar pruebas.\n" +
            "Intento proteger a mi hermana, pero la culpa me consume."
        );
        opcion1.setText("Buscar redenciÃ³n");
        opcion2.setText("Perder la esperanza");
        opcion1.setVisible(true);
        opcion2.setVisible(true);
    }

    // FINALES

    public void mostrarFinalRedencion() {
        escena = 7;
        setBackground(new Color(100, 120, 80), new Color(140, 170, 120), "Final: RedenciÃ³n");
        portraitLeft.setCharacter("LucÃ­a", "feliz", LUCIA_COLOR.brighter());
        portraitRight.setCharacter("Mariana", "sonriente", MARIANA_COLOR.brighter());
        setTextWithTypewriter(
            "Meses despuÃ©s, Mariana logra rehabilitarse.\n" +
            "La familia, aunque marcada, se une para reconstruirse.\n" +
            "LucÃ­a escribe un artÃ­culo sobre empatÃ­a y redenciÃ³n que se vuelve viral.\n\n" +
            "âœ¨ FINAL: REDENCIÃ“N âœ¨\n\n" +
            "Â¿Quieres jugar de nuevo?"
        );
        opcion1.setText("SÃ­");
        opcion2.setText("No");
        opcion1.setVisible(true);
        opcion2.setVisible(true);
    }

    public void mostrarFinalFractura() {
        escena = 8;
        setBackground(new Color(60, 70, 80), new Color(90, 100, 120), "Final: Fractura");
        portraitLeft.setCharacter("LucÃ­a", "triste", LUCIA_COLOR.darker());
        portraitRight.setCharacter("Mariana", "en prisiÃ³n", MARIANA_COLOR.darker().darker());
        setTextWithTypewriter(
            "Mariana fue arrestada y condenada.\n" +
            "La familia se divide, LucÃ­a siente tristeza pero cree que hizo lo correcto.\n" +
            "AÃ±os despuÃ©s, recibe una carta de Mariana desde prisiÃ³n agradeciÃ©ndole.\n\n" +
            "âš–ï¸ FINAL: FRACTURA Y JUSTICIA âš–ï¸\n\n" +
            "Â¿Quieres jugar de nuevo?"
        );
        opcion1.setText("SÃ­");
        opcion2.setText("No");
        opcion1.setVisible(true);
        opcion2.setVisible(true);
    }

    public void mostrarFinalOscuro() {
        escena = 9;
        setBackground(new Color(20, 20, 30), new Color(40, 40, 50), "Final: Oscuridad");
        portraitLeft.setCharacter("LucÃ­a", "perdida", new Color(60, 60, 80));
        portraitRight.clearCharacter();
        setTextWithTypewriter(
            "LucÃ­a se involucra en el negocio para proteger a su hermana.\n" +
            "Pierde su carrera, amigos y su esencia.\n" +
            "Sola, se pregunta si podrÃ¡ salir de ese mundo oscuro.\n\n" +
            "ðŸŒ‘ FINAL: OSCURIDAD ðŸŒ‘\n\n" +
            "Â¿Quieres jugar de nuevo?"
        );
        opcion1.setText("SÃ­");
        opcion2.setText("No");
        opcion1.setVisible(true);
        opcion2.setVisible(true);
    }

    public void reiniciar() {
        escena = 0;
        setBackground(new Color(20, 30, 50), new Color(40, 50, 80), "Inicio");
        portraitLeft.setCharacter("LucÃ­a", "neutral", LUCIA_COLOR);
        portraitRight.clearCharacter();
        opcion1.setVisible(true);
        opcion2.setVisible(true);
        opcion1.setText("Confrontar a Mariana");
        opcion2.setText("Investigar en secreto");
        setTextWithTypewriter(
            "LucÃ­a RamÃ­rez, una joven colombiana de 28 aÃ±os, descubre que su hermana menor estÃ¡ involucrada en una red de narcotrÃ¡fico.\n" +
            "Debes ayudarla a tomar decisiones que definirÃ¡n su destino.\n\n" +
            "Â¿QuÃ© deberÃ­a hacer LucÃ­a?"
        );
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> new ElLazoRoto());
    }
}
